<!-- 
	Author: Amy Lin
	Project: Name TBD
	Hackbright Academy, Fall 2013

	With many thanks to:
		Rickshaw - http://code.shutterstock.com/rickshaw/
		D3 - http://d3js.org/
-->

<!--
	Notes:
		11/5/13 - Initial graph setup for database and web
-->

<!doctype>

<head>
	<link type="text/css" rel="stylesheet" href="../../Project/Graph/rickshaw/src/css/graph.css">

	<link type="text/css" rel="stylesheet" href="../../Project/Graph/rickshaw/src/css/detail.css">

	<link type="text/css" rel="stylesheet" href="../../Project/Graph/rickshaw/src/css/legend.css">

	<style type="text/css">
		div, span, p, td {
			font-family: Arial, sans-serif;
		}
		#chart {
			display: inline-block;
		}
		#legend {
			display: inline-block;
			position: relative;
			left: 8px;
		}
		#legend_container {
			position: absolute;
			right: 0;
			bottom: 26px;
			width: 0;
		}
		#chart_container {
			margin: 50px 0 0 50px;
			float: left;
			position: relative;
		}
	</style>

	<script src="../../Project/Graph/rickshaw/vendor/d3.v2.js"></script>

	<script src="../../Project/Graph/rickshaw/rickshaw.js"></script>
</head>

<body>
	<div id="chart_container">
		<div id="chart"></div>
		<div id="legend_container">
			<div id="smoother" title="Smoothing"></div>
			<div id="legend"></div>
		</div>
		<div id="slider"></div>
	</div>

	<script>
		// set up data series with random data points
		var seriesData = [ [], [], [], [], [] ];
		var random = new Rickshaw.Fixtures.RandomData(15);

		for (var i=0; i<15; i++) {
			random.addData(seriesData);
		}

		// instantiate the graph
		var graph = new Rickshaw.Graph({
			element: document.getElementById("chart"),
			width: 960,
			height: 500,
			renderer: 'line',
			series: [
				{
					color: "#ffcc00",
					data: seriesData[4],
					name: 'Flashlight & Extra Batteries'
				},
				{
					color: "#935bbb",
					data: seriesData[3],
					name: 'Phone Charger'
				},
				{
					color: "#cf3737",
					data: seriesData[2],
					name: 'First Aid Kit'
				},
				{
					color: "#65ba51",
					data: seriesData[1],
					name: 'Food'
				},
				{
					color: "#2eaad8",
					data: seriesData[0],
					name: 'Water'
				}
			]
		});

		graph.render();

		var hoverDetail = new Rickshaw.Graph.HoverDetail({
			graph: graph
		});
	
		var legend = new Rickshaw.Graph.Legend({
			graph: graph,
			element: document.getElementById('legend')
		});

		// allows toggling between keys of legend
		var shelving = new Rickshaw.Graph.Behavior.Series.Toggle({
			graph: graph,
			legend: legend
		});

		var axes = new Rickshaw.Graph.Axis.Time({
			graph: graph
		});

		axes.render();
	</script>
</body>